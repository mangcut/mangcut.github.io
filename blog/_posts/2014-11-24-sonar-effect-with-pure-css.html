---
layout: englishPost
language: en
hilight: true
title: Sonar Effect with Pure CSS
description: How to make the sonar animation effect with pure CSS
topic: HTML5
disqus_id: blog/2014-11-24-sonar-effect-with-pure-css
excerpt: How to make the sonar animation effect with pure CSS.
---

<p class="lead">Recently, I played the BrainWars game and liked the <i>sonar</i> effect on its <i>Start</i> button. So I decided to apply this effect to <a target="_blank" href="https://play.google.com/store/apps/details?id=com.mangcut.memory">my little HTML-based</a> Android game.</p>

<p>After a few hours playing around on CodePen, I came up with this (OK, the actual effect used in my game is a little more complex, more about that later).</p>

<iframe style="height:300px;width:100%;border:0" src="http://codepen.io/thith/embed/WbbqXa"></iframe>
 
<h2>1. How I made it</h2>

<p>The idea is quite simple. Make a circle. Then pulsating another semi-tranparent circle behind the first one to simulate the spreading waves. And that's pretty easy with CSS.</p>

<p>First, create a simple element:</p>
<pre><code class="language-markup">&lt;div class=&quot;sonar-wrapper&quot;&gt;
 &lt;div class=&quot;sonar-btn&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>Then, turn it into a red circle:</p>
<pre><code class="language-css">.sonar-btn {
  position: relative;
  width: 10rem;
  height: 10rem;
  border-radius: 50%;
  background-color: red;
  cursor: pointer;
  z-index: 0;
}
</code></pre>

<p>Note that I apply <code>position: relative</code> to make it easy for the second circle (about it later) to position itself based on the first one. The <code>border-radius</code> is set to <code>50%</code> to turn the element into the circle.</p>

<p>This is what we have:</p>

<p><div style="width:10rem;height:10rem;border-radius:5rem;background-color:red;cursor:pointer"></div></p>

<p>Now, let's create a second circle. It should have the same shape, size, position, and color as the first one. I could certainly create a new HTML element, but to keep it simple, I'll use the <code>::after</code> pseudo element.</p>
<pre><code class="language-css">.sonar-btn::after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  content: '';
  background-color: red;
  z-index: -1;
  pointer-events: none;
}
</code></pre>

<p>Note that I set <code>z-index</code> to <code>-1</code> to make sure it goes behind the first circle.</p>

<p>OK, let's go to fun part: make things animate! I wanted it to go from 50% semi-transparent to completely transparent while spreading to the scale of 2.5 times. So here is how I designed the animation keyframe:</p>
<pre><code class="language-css">@keyframes sonarWave {
  from {
    opacity: 0.5;
  }
  to {
    transform: scale(2.5);
    opacity: 0;
  }
}
</code></pre>
<p>Finally, just assign the keyframe to the pseudo element:</p>
<pre><code class="language-css">.sonar-btn::after {
  animation: sonarWave 2s linear infinite
}
</code></pre>

<p>That's all. Enjoy!</p>

<p>Note that I left out the browser prefixes thingy for the sake of brevity. You could <a target="_blank" href="http://css-tricks.com/snippets/css/keyframe-animation-syntax/">add it manually</a>, use a <a target="_blank" href="https://github.com/postcss/autoprefixer">prefixer</a>, or <a href="http://bourbon.io/docs/">mixins</a>.</p>
<p>Supported browers: </p>
<p>
<ul>
<li>Desktop: Chrome, FireFox, IE10+, Safari 6.1+ (not tested)</li>
<li>Mobile: Stock Android Browser 4.4+, iOS Safari 7+</li>
</ul>
</p>
<p>It does not work on older browers due to their lack of <a target="_blank" href="http://css-tricks.com/transitions-and-animations-on-css-generated-content/">support for animation on pseudo elements</a>.</p>

<h2>2. More advanced features</h2>

<p>After finishing the first version, I felt tempted to make some enhancements:</p>
<p>
<ol>
<li>Support more browsers (IE9, stock Android browser 4.0~4.3)</li>
<li>Change the wave's color after each pulse</li>
<li>Make several overlapping waves</li>
</ol>
</p>
<p>To support more browsers, we need to use a real element instead of the pseudo one. To change the wave's color, we'll make use of <code>animationiteration</code> event. And to make several overlapping waves, we need to create several elements. I'll discuss about that in one my next posts.</p>